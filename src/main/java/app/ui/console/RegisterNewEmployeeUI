package app.ui.console;

import app.controller.RegisterNewEmployeeController;
import app.controller.App;
import app.domain.model.Company;
import app.domain.model.Employee;
import app.domain.shared.Constants;
import app.ui.console.utils.Utils;
import app.domain.model.Employee;


import java.util.ArrayList;
import java.util.Collection;
import java.util.Scanner;


/**
 * US010 - Register New Employee UI
 *
 * @author Guilherme Sousa <1211073@isep.ipp.pt>
 */

public class RegisterNewEmployeeUI implements Runnable {

    public RegisterNewEmployeeUI() {
    }

    private RegisterNewEmployeeController ctrl = new RegisterNewEmployeeController();


    public void run() {

        Scanner read = new Scanner(System.in);
        RegisterNewEmployeeDto dto = new RegisterNewEmployeeDto();
        ArrayList<String> roles = ctrl.getRolesList();

        System.out.printf("**You are now registering a new employee**%n");

        int index = Utils.showAndSelectIndex(roles, "**Select one of the options**");
        dto.role = roles.get(index);

        dto.name = Utils.readLineFromConsole("Insert Name: ");
        dto.address = Utils.readLineFromConsole("Insert Address: ");
        dto.phoneNumber = Integer.parseInt(Utils.readLineFromConsole("Insert Phone Number: "));
        dto.email = Utils.readLineFromConsole("Insert Email: ");
        dto.citizenCardNumber = Integer.parseInt(Utils.readLineFromConsole("Insert Citizen Card Number: "));

        dto.id = String.valueOf(Employee.idGenerator(dto.role));
        dto.password = Employee.passwordGenerator();

        ctrl.registerNewEmployee(dto);
        //RegisterNewEmployeeDto dto = new RegisterNewEmployeeDto(selectedRole);
    }
}
